<div class="card">
  <div class="card-body text-dark">


    <div class="card-header bg-transparent  text-center"><h4>Note/Élément</h4></div>
    <br>
    <div class="form-group">
      <label for="formGroupExampleInput">Reference Personnel</label>
      <input type="text" [(ngModel)]="note.referencePersonnel" name="referencePersonnel" class="form-control" id="formGroupExampleInput" placeholder="Reference Personnel">
    </div>


    <div class="form-group">
      <label for="formGroupExampleInput">Reference Evaluateur</label>
      <input type="text" [(ngModel)]="note.referenceEvaluateur" name="referenceEvaluateur" class="form-control" id="formGroupExampleInput1" placeholder="Reference Evaluateur">
    </div>



    <div class="form-group">
      <label for="formGroupExampleInput">Élément d'évaluation</label>




      <div class="input-group mb-3">

        <select  class="custom-select"  id="inputGroupSelect02" name="elementVo" [(ngModel)]="note.elementEvaluationVo"  (change)="selectChangeHandler($event)" >
          <option selected disabled> Choisir Élément</option>
          <option *ngFor="let c of listElements " [ngValue]="c"    >{{c.reference}}
          </option>

        </select>
        <div class="input-group-append">
          <label class="input-group-text" for="inputGroupSelect02">Référence élément</label>
        </div>




      </div>

      <!-- <br><label>Barem Max: {{note.elementEvaluationVo.baremMax}}</label>-->














    </div>


    <!--
    <br>
    <label>{{noteAnnuel.totalNote}}</label>
        <br>-->
    <div class="form-group">
      <label for="formGroupExampleInput">Note Élément</label>
      <input type="number" max="{{note.elementEvaluationVo.baremMax}}" min="0" [(ngModel)]="note.noteElement" name="note" class="form-control" id="formGroupExampleInput3" placeholder="Note Élément">
    </div>

    <div class="form-group">
      <label for="formGroupExampleInput">Observations</label>
      <textarea [(ngModel)]="note.observation" name="observation" class="form-control" id="formGroupExampleInput4" placeholder="Observations"></textarea>
    </div>


    <div class="form-group">
      <button (click)="addNoteElement(selectedElement)"   class="btn btn-outline-dark" >Ajouter Note</button>
    </div>


    <div class="card-header bg-transparent  text-center"><h4>Liste des Notes/Élément</h4></div>

    <br>


    <table class="table table-hover table-responsive-xl">
      <thead><th>Reference Personnel</th>    <th>Reference Evaluateur</th>    <th>Élément</th>     <th>Note</th>   <th>Observations</th>     <th></th>   <th></th>   </thead>
      <tbody>
      <tr *ngFor="let c of notesElements ">

        <td>{{c.referencePersonnel}}</td>
        <td>{{c.referenceEvaluateur}}</td>
        <td>{{c.elementEvaluationVo.reference}}</td>
        <td>{{c.noteElement}}</td>
        <td>{{c.observation}}</td>
        <td><button type="button" (click)="deleteNote(c)"  class="btn btn-outline-danger">Supprimer</button></td>



      </tr>




      </tbody>

    </table>








    <div class="card-header bg-transparent  text-center"><h4>Note Annuel</h4></div>
    <br>
    <div class="form-group">
      <label for="formGroupExampleInput">Reference Personnel</label>
      <input type="text" [(ngModel)]="noteAnnuel.referencePersonnel" name="referencePersonnel1" class="form-control" id="formGroupExampleInput5" placeholder="Reference Personnel">
    </div>


    <div class="form-group">
      <label for="formGroupExampleInput">Reference Chef du Personnel</label>
      <input type="text" [(ngModel)]="noteAnnuel.referenceEvaluateur" name="referenceChefduPersonnel" class="form-control" id="formGroupExampleInput6" placeholder="Reference Chef du Personnel">
    </div>






    <div class="form-group">
      <label for="formGroupExampleInput">Date d'évaluation</label>
      <input type="date" value="yyyy-mm-dd" [(ngModel)]="noteAnnuel.dateDevaluation" name="date" class="form-control" id="formGroupExampleInput7" >
    </div>





    <div class="card-footer">
      <button type="button" (click)="saveNoteAnnuel"  class="btn btn-outline-dark">Ajouter Note Annuel</button>

    </div>

  </div>
</div>



<!-- model of modification-->
<div class="modal modal-lg fade " id="exampleModal"  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modification</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">





        <div class="form-group">
          <h5 class="text-center">Modifier Reference-Libellé</h5>

          <label for="formGroupExampleInput9">Nouveau Reference Élément</label>
          <input type="text"  class="form-control" id="formGroupExampleInput9" placeholder="Nouveau Reference Élément">

        </div>
        <div class="form-group">
          <label for="formGroupExampleInput2">Nouveau Libellé</label>
          <input type="text"  class="form-control" id="formGroupExampleInput2" placeholder="Nouveau Libellé">
        </div>
        <button type="button"   class="btn btn-outline-dark">Modifier</button>
        <hr>
        <div class="form-group">
          <h5 class="text-center">Modifier Barem Max</h5>

          <label for="formGroupExampleInput10">Nouveau Barem Max</label>
          <input type="number"   class="form-control" id="formGroupExampleInput10" placeholder="Nouveau Barem Max">
        </div>

        <button type="button"   class="btn btn-outline-dark">Modifier</button>





      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Fermer</button>
      </div>
    </div>
  </div>
</div>

<script>


  /*$(document).ready(function(){
    $("#buttonModal").click(function(){
      $("#exampleModal").modal();
    });
  });*/

  $('#buttonModal').click(function () {
    $('#exampleModal').on('show.bs.modal', function (event) {
      var button = $(event.relatedTarget) // Button that triggered the modal
      var recipient = button.data('whatever') // Extract info from data-* attributes
      // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
      // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
      var modal = $(this)
      modal.find('.modal-title').text('New message to ' + recipient)
      modal.find('.modal-body input').val(recipient)
    })
  });


</script>
